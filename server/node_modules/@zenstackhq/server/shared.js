"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultZodSchemas = exports.getDefaultModelMeta = exports.loadAssets = void 0;
function loadAssets(options) {
    var _a;
    // model metadata
    const modelMeta = (_a = options.modelMeta) !== null && _a !== void 0 ? _a : getDefaultModelMeta();
    // zod schemas
    let zodSchemas;
    if (typeof options.zodSchemas === 'object') {
        zodSchemas = options.zodSchemas;
    }
    else if (options.zodSchemas === true) {
        zodSchemas = getDefaultZodSchemas();
        if (!zodSchemas) {
            throw new Error('Unable to load zod schemas from default location');
        }
    }
    return { modelMeta, zodSchemas };
}
exports.loadAssets = loadAssets;
/**
 * Load model metadata.
 *
 * @param loadPath The path to load model metadata from. If not provided,
 * will use default load path.
 */
function getDefaultModelMeta() {
    try {
        return require('@zenstackhq/runtime/model-meta').default;
    }
    catch (_a) {
        throw new Error('Model meta cannot be loaded. Please make sure "zenstack generate" has been run.');
    }
}
exports.getDefaultModelMeta = getDefaultModelMeta;
/**
 * Load zod schemas.
 *
 * @param loadPath The path to load zod schemas from. If not provided,
 * will use default load path.
 */
function getDefaultZodSchemas() {
    try {
        return require('@zenstackhq/runtime/zod');
    }
    catch (_a) {
        return undefined;
    }
}
exports.getDefaultZodSchemas = getDefaultZodSchemas;
//# sourceMappingURL=shared.js.map